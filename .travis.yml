language: d

dist: trusty
sudo: required

d:
  - dmd-2.078.3
  - dmd-2.077.1
  - ldc
os:
  - linux
env:
  - BUILD_TYPE=debug
  - BUILD_TYPE=unittest

before_install:
  - sudo add-apt-repository ppa:jonathonf/backports -y
  - sudo apt-get update
  - sudo apt-get install sqlite3

matrix:
  include:
  - d: dmd-2.078.3
    env: BUILD_TYPE=unittest-cov
  exclude:
  - d: dmd-2.078.3
    env: BUILD_TYPE=unittest

addons:
  apt:
    packages:
      - libevent-dev
      - libssl-dev
      - sqlite3

script:
- ./travis.sh
